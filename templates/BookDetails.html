{% extends 'nav.html' %}
{% block page_title %}
    <title>Book Name Query</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'BookDetails/css/style.css' %}">
{% endblock %}

{% block content %}
    <main class="container">
        <div class="left-column">
            <div class="Image">
                <a href="{% static 'BookDetails/img/def.jpg' %}">
                    <img src="{% static 'BookDetails/img/def.jpg' %}" alt="Missing Image">
                </a>
            </div>
        </div>

        <div class="right-column">
            <div class="description">
                <h1>Name of Book Query</h1>
                <h3>By:<a href="Author.html">Author Name Query</a></h3>
                <p><i>Book description query</i></p>
            </div>


            <div class="Author Details">
                <h2>About The Author</h2>
                <p>Author bio query</p>
            </div>

            <div class="Publisher Details">
                <h4>Publisher Query</h4>
                <p>Date Published</p>
            </div>


            <div class="FeedBack">
                <h2>Customer FeedBack</h2>
                <form method="get">
                    <h3>Rate This Book</h3>
                    <select name="Stars">
                        <option value="Amazing">5</option>
                        <option value="Great">4</option>
                        <option value="Moderate">3</option>
                        <option value="Okay">2</option>
                        <option value="Bad">1</option>
                    </select>
                    <input type="submit" name="" value="Submit">
                </form>
                <form method="post">
                    <input type="text" name="Name" placeholder="Name" required>
                    <textarea name="Comments" rows="8" cols="50" placeholder="Comments" required></textarea>
                    <input type="submit" name="" value="Submit">
                </form>
                <p></p>
                <div class="product-price">
                    <a href="#" class="cart-btn">Add to cart</a>&nbsp
                    <div class="dropdown">
                        <button onclick="sendToWishlist()" class="dropbtn">Add to Wishlist</button>
                        <div id="myDropdown" class="dropdown-content">
                            <a href="#">Wishlist 1</a>
                            <a href="#">Wishlist 2</a>
                            <a href="#">Wishlist 3</a>
                        </div>
                    </div>

                    <script>
                        function wishlistQuery() {
                            //Generates query for the sendToWishlist function.

                            var product = document.getElementById("productName").innerHTML;
                            var dropdown = document.getElementById("wishlistChoiceDropdown");
                            var choice = dropdown.options[dropdown.selectedIndex].text;

                            if (choice === "None") { //If the user selected "None" as their option.
                                alert("Please select a wishlist in order to submit.");
                            } else {
                                var action = "INSERT INTO {user's personal table} " + choice + " VALUES " + product;
                                return action;
                            }
                        }

                        function sendToWishlist() {
                            console.log("Send to Wishlist");
                            document.getElementById("myDropdown").classList.toggle("show");
                        }
                    </script>
                </div>
            </div>
        </div>
    </main>
{% endblock %}