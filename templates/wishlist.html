<!DOCTYPE html>
<html>
<body style="background-color:powderblue;">
<h1 style="color:green; text-align:center; font-family:verdana; font-size: 50px;">Wishlists</h1>

<form method="get" action="/wishlist">
  Search for:
  <input type="text" name="search">
  <input type="submit" value="Search">
</form>


<script>
var database = ["Flat Stanley by John Cena", "The Never Ending Story by Elvis Presley", "Hairy by Me", "Buy, By, or Bye? by Kendrick Lallama"];

function get(name){
  //Read get requests
  //name (String): identifier for get request
   if(name=(new RegExp('[?&]'+encodeURIComponent(name)+'=([^&]*)')).exec(location.search))
      return decodeURIComponent(name[1]);
}

function query(search_for){
  //find all matches of the user's input within the database
  // search_for (String): what to query for


  var matches = []; //stores all matches from query
  for (i = 0; i <= database.length - 1; i++){

    if(matches.length >= 0 && database[i].includes(search_for)){
      matches.push(database[i]);
    }
  }

  // If there are not matches
  if (matches.length == 0){
    alert("There are no results for that query.");
  }
  return matches.reverse();
}

function addRow(column1, column2, column3, column4){
  //Add a row to "resultstable"
  //column1 (String)
  //column2 (String)
  //column3 (String)
  //column4 (String)
  var table = document.getElementById("resultstable");
  var row = table.insertRow(1);
  var cell1 = row.insertCell(0);
  var cell2 = row.insertCell(1);
  var cell3 = row.insertCell(2);
  var cell4 = row.insertCell(3);
  cell1.innerHTML = column1;
  cell2.innerHTML = column2;
  cell3.innerHTML = column3;
  cell4.innerHTML = column4;
}

</script>

<style>
table, td {
  border: 1px solid black;
  text-align: center;
}
</style>

<table id="resultstable">
  <tr>
    <td>Title</td>
    <td>Wishlist 1</td>
    <td>Wishlist 2</td>
    <td>Wishlist 3</td>
  </tr>
</table>

<button onclick="addToWishlist()">Add Book(s) To Wishlist(s)</button> <br>


<script>
var matches = query(get("search"));


for(i = matches.length - 1; i >= 0; i--){
  var title = matches[i];
  var checkboxHTML1 = '<input type="checkbox" id=' + '"' + matches[i] + 'wishlist1">';
  var checkboxHTML2 = '<input type="checkbox" id=' + '"' + matches[i] + 'wishlist2">';
  var checkboxHTML3 = '<input type="checkbox" id=' + '"' + matches[i] + 'wishlist3">';
  addRow(title, checkboxHTML1, checkboxHTML2, checkboxHTML3)
}

</script>


<style>
#wishlistWrapper {
  width: 100%;
  /*border: 1px solid red;*/
  text-align: center;
}
#wishlist1 {
  width: 100px;
  float: left;
  position: relative;
}
#wishlist2 {
  width: 100px;
  margin: 0 auto;
  position: relative;
}
#wishlist3 {
  width: 100px;
  float: right;
  position: relative;
}
</style>

Insert name of wishlist to create:
<input type="text" id="wishlistname">
<button onclick="addWishlist()">Add Wishlist</button>

<div id="wishlistWrapper">
  <table id="wishlist1" style="display:none">
    <tr>
    </tr>
  </table>
  <table id="wishlist3" style="display:none">
    <tr>
      <td>Title</td>
    </tr>
  </table>
  <table id="wishlist2" style="display:none">
    <tr>
      <td>Title</td>
    </tr>
  </table>
</div>

<script>
function changeTitle(tableName, innerHTML){
  var tableTitle = document.getElementById(tableName).rows[0];
  tableTitle.innerHTML = innerHTML;
}

function hideTable(tableName){
  var table = document.getElementById(tableName)
  table.style.display = "none";
}

function addWishlist(){

  var tableName = document.getElementById("wishlistname").value

  var wishlist1table = document.getElementById("wishlist1")
  var wishlist2table = document.getElementById("wishlist2")
  var wishlist3table = document.getElementById("wishlist3")

  if (wishlist1table.style.display === "none" && wishlist2table.style.display === "none" && wishlist3table.style.display === "none") {
    wishlist1table.style.display = "block";
    changeTitle("wishlist1", tableName)
  } else if (wishlist1table.style.display === "block" && wishlist2table.style.display === "none" && wishlist3table.style.display === "none") {
    wishlist2table.style.display = "block";
    changeTitle("wishlist2", tableName)
  } else if (wishlist1table.style.display === "none" && wishlist2table.style.display === "block" && wishlist3table.style.display === "none") {
    wishlist1table.style.display = "block";
    changeTitle("wishlist1", tableName)
  } else if (wishlist1table.style.display === "none" && wishlist2table.style.display === "none" && wishlist3table.style.display === "block") {
    wishlist1table.style.display = "block";
    changeTitle("wishlist1", tableName)
  } else if (wishlist1table.style.display === "block" && wishlist2table.style.display === "block" && wishlist3table.style.display === "none") {
    wishlist3table.style.display = "block";
    changeTitle("wishlist3", tableName)
  } else if (wishlist1table.style.display === "block" && wishlist2table.style.display === "none" && wishlist3table.style.display === "block") {
    wishlist2table.style.display = "block";
    changeTitle("wishlist2", tableName)
  } else if (wishlist1table.style.display === "none" && wishlist2table.style.display === "block" && wishlist3table.style.display === "block") {
    wishlist1table.style.display = "block";
    changeTitle("wishlist1", tableName)
  } else if (wishlist1table.style.display === "block" && wishlist2table.style.display === "block" && wishlist3table.style.display === "block") {
    alert("You can only have up to 3 wishlists! Feel free to delete any existing wishlist in order to create more.");
  }

}

  function removeWishlist(){
    //hides selected wishlists
    //clears all cells of text
  }

  function addToWishlist(){

    var wishlist1table = document.getElementById("wishlist1");
    var wishlist2table = document.getElementById("wishlist2");
    var wishlist3table = document.getElementById("wishlist3");

    //Keeps track of what books should be added to which wishlist
    wishlist1items = [];
    wishlist2items = [];
    wishlist3items = [];

    var table = document.getElementById("resultstable");

    for(i = 1; i <= matches.length; i++){

        var statusCheck1 = table.rows[i].cells[1].children[0].checked;
        var statusCheck2 = table.rows[i].cells[2].children[0].checked;
        var statusCheck3 = table.rows[i].cells[3].children[0].checked;

        if (statusCheck1 === true){
          wishlist1items.push(matches[i - 1]);
        }
        if (statusCheck2 === true){
          wishlist2items.push(matches[i - 1]);
        }
        if (statusCheck3 === true){
          wishlist3items.push(matches[i - 1]);
        }
      }

      console.log("One: " + wishlist1items);
      console.log("Two: " +wishlist2items);
      console.log("Three: " +wishlist3items);

      console.log("Hello World!");
      for (i = 0; i <= wishlist1items.length - 1; i++){
        console.log("Hello World!");
        var row = wishlist1table.insertRow(1);
        var cell1 = row.insertCell(0);
        cell1.innerHTML = wishlist1items[i];
      }

      for (i = 0; i <= wishlist2items.length - 1; i++){
        console.log("Hello World!");
        var row = wishlist2table.insertRow(1);
        var cell1 = row.insertCell(0);
        cell1.innerHTML = wishlist2items[i];
      }

      for (i = 0; i <= wishlist3items.length - 1; i++){
        console.log("Hello World!");
        var row = wishlist3table.insertRow(1);
        var cell1 = row.insertCell(0);
        cell1.innerHTML = wishlist3items[i];
      }


}



</script>
</body>
